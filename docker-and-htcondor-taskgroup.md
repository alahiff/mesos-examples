A task group consisting of a Docker daemon and HTCondor (all daemons). This is for testing only, e.g. HTCondor is deliberately completely insecure so that jobs can be submitted remotely without difficulty. HTCondor is able to run jobs using the Docker universe using the 'local' Docker daemon.
```
{
   "tasks":[
      {
         "name":"dockerd",
         "task_id":{
            "value":"dockerd"
         },
         "agent_id":{
            "value":""
         },
         "resources":[
            {
               "name":"cpus",
               "type":"SCALAR",
               "scalar":{
                  "value":0.2
               }
            },
            {
               "name":"mem",
               "type":"SCALAR",
               "scalar":{
                  "value":32
               }
            },
            {
               "name":"disk",
               "type":"SCALAR",
               "scalar":{
                  "value":5000
               }
            }
         ],
         "command":{
            "uris":[
               {
                  "value":"https://get.docker.com/builds/Linux/x86_64/docker-17.05.0-ce.tgz",
                  "extract":true
               }
            ],
            "shell":true,
            "value":"mount -t proc proc /proc ; mkdir -p var/new/lib/{docker,containerd,dockershim} ; mkdir -p /var/lib/{docker,containerd,dockershim} ; mount --bind var/new/lib/docker /var/lib/docker ; mount --bind var/new/lib/containerd /var/lib/containerd ; mount --bind var/new/lib/dockershim /var/lib/dockershim ; mkdir -p var/new/run ; mount --bind var/new/run /var/run ; mkdir -p var/new/log ; mount --bind var/new/log /var/log ; PATH=${PWD}/docker:$PATH ./docker/dockerd --iptables=false --ip-masq=false --host=unix:///var/run/docker.sock --pidfile=/var/run/docker.pid --storage-driver=overlay2 --storage-opt=overlay2.override_kernel_check=true"
         },
         "container":{
            "type":"MESOS",
            "volumes":[
               {
                  "container_path":"var",
                  "mode":"RW",
                  "source":{
                     "sandbox_path":{
                        "type":"PARENT",
                        "path":"var",
                        "name":"var"
                     },
                     "type":"SANDBOX_PATH"
                  }
               }
            ],
            "linux_info":{
               "share_pid_namespace":true
            }
         }
      },
      {
         "name":"htcondor",
         "task_id":{
            "value":"htcondor"
         },
         "agent_id":{
            "value":""
         },
         "resources":[
            {
               "name":"cpus",
               "type":"SCALAR",
               "scalar":{
                  "value":0.2
               }
            },
            {
               "name":"mem",
               "type":"SCALAR",
               "scalar":{
                  "value":64
               }
            },
            {
               "name":"disk",
               "type":"SCALAR",
               "scalar":{
                  "value":5000
               }
            }
         ],
         "command":{
            "uris":[
               {
                  "value":"https://get.docker.com/builds/Linux/x86_64/docker-17.05.0-ce.tgz",
                  "extract":true
               }
            ],
            "value":"useradd alahiff ; echo HOSTALLOW_WRITE = * >> /etc/condor/config.d/test ; echo SCHEDD.ALLOW_WRITE = */*.gridpp.rl.ac.uk, */*.nubes.stfc.ac.uk >> /etc/condor/config.d/test ; echo SEC_DEFAULT_AUTHENTICATION_METHODS = FS,CLAIMTOBE,ANONYMOUS >> /etc/condor/config.d/test ; echo SEC_WRITE_AUTHENTICATION = OPTIONAL >> /etc/condor/config.d/test ; echo SEC_DEFAULT_AUTHENTICATION = OPTIONAL >> /etc/condor/config.d/test ; echo SEC_CLIENT_AUTHENTICATION = OPTIONAL >> /etc/condor/config.d/test ; echo SEC_DAEMON_AUTHENTICATION = OPTIONAL >> /etc/condor/config.d/test ; echo User_Alias      CONDORUSER = condor > /etc/sudoers.d/condor ; echo Cmnd_Alias      DOCKERCMD = ${PWD}/docker/docker >> /etc/sudoers.d/condor ; echo CONDORUSER      ALL = NOPASSWD: DOCKERCMD >> /etc/sudoers.d/condor ; echo DOCKER=sudo ${PWD}/docker/docker > /etc/condor/config.d/docker ; mkdir -p var/new/log/condor ; chown condor:condor var/new/log/condor ; mount --bind var/new/log /var/log ; mkdir -p var/new/run ; mount --bind var/new/run /var/run ; mkdir /var/run/condor ; chown condor:condor /var/run/condor ; mkdir -p /var/run/lock/condor ; chown condor:condor /var/run/lock/condor ; /usr/sbin/condor_master -f"
         },
         "container":{
            "type":"MESOS",
            "mesos":{
               "image":{
                  "type":"DOCKER",
                  "docker":{
                     "name":"alahiff/htcondor:8.6.6-2"
                  }
               }
            },
            "volumes":[
               {
                  "container_path":"var",
                  "mode":"RW",
                  "source":{
                     "sandbox_path":{
                        "type":"PARENT",
                        "path":"var",
                        "name":"var"
                     },
                     "type":"SANDBOX_PATH"
                  }
               }
            ]
         }
      }
   ]
}
```
